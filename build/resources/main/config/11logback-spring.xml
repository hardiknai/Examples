<?xml version="1.0" encoding="UTF-8"?>
<configuration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://www.padual.com/java/logback.xsd">
	
		<property name="LOG_DIR" value="E:/Hardik/Java/source/Spring_Security/logs" />

		<appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
			<encoder>
				<pattern>
					%d{dd-MM-yyyy HH:mm:ss.SSS} %magenta([%thread]) %highlight(%-5level) %logger.%M
					- %msg%n
				</pattern>
			</encoder>
		</appender>

		<appender name="SAVE-TO-FILE"
			class="ch.qos.logback.core.rolling.RollingFileAppender">
			<file>${LOG_DIR}/log.log</file>
			<encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
				<Pattern>
					%d{dd-MM-yyyy HH:mm:ss.SSS} [%thread] %-5level %logger{36}.%M - %msg%n
				</Pattern>
			</encoder>
		</appender>
		
		<appender name="EMAIL" class="ch.qos.logback.classic.net.SMTPAppender">
			<smtpHost>smtp.gmail.com</smtpHost>
			<smtpPort>587</smtpPort>
			<STARTTLS>true</STARTTLS>
			<username>shilpa.nai876@gmail.com</username>
			<password>Shilpa@123</password>
			<to>hardik@firstai.co</to>
			<from>shilpa.nai876@gmail.com</from>
			<subject>Exception: %logger{20} - %m</subject>
			<layout class="ch.qos.logback.classic.html.HTMLLayout" />
			<layout class="ch.qos.logback.classic.html.HTMLLayout" />
			<cyclicBufferTracker class="ch.qos.logback.core.spi.CyclicBufferTracker">
				<!-- send just one log entry per email -->
				<bufferSize>1</bufferSize>
			</cyclicBufferTracker>
		</appender>


		<springProfile name="prod">
			<root level="error">
				<appender-ref ref="EMAIL" />
				
	    		<!-- <appender-ref ref="STDOUT" />-->
			</root>
		</springProfile>

	</configuration>